<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><!--This file was converted to xhtml by LibreOffice - see https://cgit.freedesktop.org/libreoffice/core/tree/filter/source/xslt for the code.--><head profile="http://dublincore.org/documents/dcmi-terms/"><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8"/><title xml:lang="en-US">- no title specified</title><meta name="DCTERMS.title" content="" xml:lang="en-US"/><meta name="DCTERMS.language" content="en-US" scheme="DCTERMS.RFC4646"/><meta name="DCTERMS.source" content="http://xml.openoffice.org/odf2xhtml"/><meta name="DCTERMS.issued" content="2021-07-10T13:07:06.647269813" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.modified" content="2021-07-10T13:48:20.881795493" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.provenance" content="" xml:lang="en-US"/><meta name="DCTERMS.subject" content="," xml:lang="en-US"/><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" hreflang="en"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" hreflang="en"/><link rel="schema.DCTYPE" href="http://purl.org/dc/dcmitype/" hreflang="en"/><link rel="schema.DCAM" href="http://purl.org/dc/dcam/" hreflang="en"/><style type="text/css">
    @page {  }
    table { border-collapse:collapse; border-spacing:0; empty-cells:show }
    td, th { vertical-align:top; font-size:12pt;}
    h1, h2, h3, h4, h5, h6 { clear:both;}
    ol, ul { margin:0; padding:0;}
    li { list-style: none; margin:0; padding:0;}
    /* "li span.odfLiEnd" - IE 7 issue*/
    li span. { clear: both; line-height:0; width:0; height:0; margin:0; padding:0; }
    span.footnodeNumber { padding-right:1em; }
    span.annotation_style_by_filter { font-size:95%; font-family:Arial; background-color:#fff000;  margin:0; border:0; padding:0;  }
    span.heading_numbering { margin-right: 0.8rem; }* { margin:0;}
    .P1 { font-size:12pt; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; margin-top:0cm; text-align:justify ! important; text-indent:0.499cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr; line-height:100%; color:#ff0000; }
    .P10 { font-size:12pt; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; margin-top:0cm; text-align:center ! important; text-indent:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr; line-height:100%; background-color:transparent; }
    .P12 { font-size:10pt; font-family:Times New Roman; writing-mode:horizontal-tb; direction:ltr;text-align:center ! important; }
    .P13 { font-size:12pt; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;text-align:center ! important; }
    .P14 { font-size:12pt; font-weight:bold; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; margin-top:0cm; text-align:left ! important; text-indent:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr; }
    .P2 { font-size:12pt; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; margin-top:0cm; text-align:justify ! important; text-indent:0.499cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr; line-height:100%; }
    .P3 { font-size:10pt; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; margin-top:0cm; text-align:justify ! important; text-indent:0.499cm; font-family:Times New Roman; writing-mode:horizontal-tb; direction:ltr; line-height:100%; color:#000000; }
    .P4 { font-size:10pt; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; margin-top:0cm; text-align:justify ! important; text-indent:0.499cm; font-family:Times New Roman; writing-mode:horizontal-tb; direction:ltr; line-height:100%; color:#000000; }
    .P5 { font-size:10pt; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; margin-top:0cm; text-align:justify ! important; text-indent:0.499cm; font-family:Times New Roman; writing-mode:horizontal-tb; direction:ltr; line-height:100%; color:#000000; font-style:normal; font-weight:normal; }
    .P6 { font-size:12pt; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr; margin-left:0cm; margin-right:0cm; margin-top:0cm; margin-bottom:0cm; line-height:100%; text-align:justify ! important; text-indent:0.499cm; }
    .P7 { font-size:10pt; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; margin-top:0cm; text-align:justify ! important; text-indent:0cm; font-family:Times New Roman; writing-mode:horizontal-tb; direction:ltr; line-height:100%; color:#000000; }
    .P8 { font-size:10pt; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; margin-top:0cm; text-align:justify ! important; text-indent:0cm; font-family:Times New Roman; writing-mode:horizontal-tb; direction:ltr; line-height:100%; background-color:transparent; color:#000000; }
    .P9 { font-size:10pt; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; margin-top:0cm; text-align:center ! important; text-indent:0cm; font-family:Times New Roman; writing-mode:horizontal-tb; direction:ltr; line-height:100%; background-color:transparent; color:#000000; }
    .Tabela1 { width:17cm; 
                margin-left:auto;margin-right:auto;
            writing-mode:horizontal-tb; direction:ltr; }
    .Tabela34 { width:13.49cm; margin-left:1.9cm; margin-right:auto;writing-mode:horizontal-tb; direction:ltr; }
    .Tabela1_A1 { vertical-align:middle; padding:0.097cm; border-style:none; }
    .Tabela34_A1 { padding:0.097cm; border-style:none; }
    .Tabela1_A { width:5.666cm; }
    .Tabela1_B { width:5.667cm; }
    .Tabela34_A { width:6.599cm; }
    .Tabela34_B { width:6.892cm; }
    .T10 { color:#000000; font-family:Times New Roman; font-size:10pt; }
    .T11 { color:#000000; font-family:Times New Roman; font-size:10pt; }
    .T12 { color:#000000; font-family:Times New Roman; font-size:10pt; }
    .T13 { color:#000000; font-family:Times New Roman; font-size:10pt; }
    .T14 { color:#000000; font-family:Times New Roman; font-size:10pt; font-style:normal; }
    .T15 { color:#000000; font-family:Times New Roman; font-size:10pt; font-style:normal; font-weight:bold; }
    .T16 { color:#000000; font-family:Times New Roman; font-size:10pt; font-style:normal; font-weight:normal; }
    .T17 { color:#000000; font-family:Times New Roman; font-size:10pt; font-style:normal; font-weight:normal; }
    .T18 { color:#000000; font-family:Times New Roman; font-size:10pt; font-style:normal; font-weight:normal; }
    .T19 { color:#000000; font-family:Times New Roman; font-size:10pt; font-style:normal; font-weight:normal; }
    .T2 { color:#000000; font-family:Times New Roman; font-size:10pt; }
    .T20 { font-family:Times New Roman; font-size:10pt; }
    .T21 { font-family:Times New Roman; font-size:10pt; }
    .T22 { font-family:Times New Roman; font-size:10pt; }
    .T23 { font-family:Times New Roman; font-size:10pt; }
    .T24 { font-family:Times New Roman; font-size:10pt; }
    .T25 { font-family:Times New Roman; font-size:10pt; }
    .T26 { font-family:Times New Roman; font-size:10pt; }
    .T27 { font-family:Times New Roman; font-size:10pt; }
    .T28 { font-family:Times New Roman; font-size:10pt; }
    .T3 { color:#000000; font-family:Times New Roman; font-size:10pt; }
    .T4 { color:#000000; font-family:Times New Roman; font-size:10pt; }
    .T5 { color:#000000; font-family:Times New Roman; font-size:10pt; }
    .T6 { color:#000000; font-family:Times New Roman; font-size:10pt; }
    .T7 { color:#000000; font-family:Times New Roman; font-size:10pt; }
    .T8 { color:#000000; font-family:Times New Roman; font-size:10pt; }
    .T9 { color:#000000; font-family:Times New Roman; font-size:10pt; }
    /* ODF styles with no properties representable as CSS */
    .T1  { }
    </style></head><body dir="ltr" style="max-width:21.001cm;margin-top:2cm; margin-bottom:2cm; margin-left:2cm; margin-right:2cm; "><ol><li><ol><li><h2 class="P14"><a id="a__Serial_communication_test"><span/></a>Serial communication <span class="T1">test</span></h2></li></ol></li></ol><p class="P7"> </p><p class="P2"><span class="T2">For the implementation using the serial communication protocol, any microcontroller that meets the Arduino platform can be chosen. For the serial protocol communication and configuration test, </span><span class="T13">it </span><span class="T2">was made available the examples to be used between the microcontroller and the aircraft simulated in Matlab Simulink</span><span class="T3">®</span><span class="T2">. To do this, download the “Serial_Communication” folder and load the “HIL_Serial_Test.ino” file for the chosen microcontroller.</span><span class="T4"> After that, the file “Hil_Serial_Test.slx”, </span><span class="T5">Fig</span><span class="T6">ure</span><span class="T4"> </span><span class="T4"><a href="#refFigure0">1</a></span><span class="T4">, is loaded in Matlab Simulink</span><span class="T3">®</span><span class="T7"> environment.</span><span class="T4"> </span></p><p class="P3"> </p><p class="P9">FIG12</p><p class="P8"> </p><p class="P10"><a id="_Ref609580531111"/><span class="T20">Figur</span><span class="T21">e</span><span class="T20"> </span><span class="T20"><a id="refFigure0"/>1</span><span class="T20">. </span><span class="T22">Simulink block diagram for the serial communication test (</span><span class="T23">HIL_Serial_Test.slx</span><span class="T22">)</span><span class="T23">.</span><span class="T8"> </span></p><p class="P3"> </p><p class="P2"><span class="T4">At this point, we have the “HIL_Serial_Test.ino” file loaded in the microcontroller and the “HIL_Serial_Test.slx” in the Matlab Simulink</span><span class="T3">®</span><span class="T4"> environment. To perform the communication between them we use the “Serial Configuration”, “Serial Receive” and “Serial Send” blocks, which serve, respectively, to configure the serial port, to receive and to send data through the selected serial port.</span><span class="T5"> </span><span class="T9">Fig</span><span class="T6">ure</span><span class="T9"> </span><span class="T9"><a href="#refFigure1">2</a></span><span class="T9"> shows the settings made in these blocks. </span></p><p class="P5"> </p><table border="0" cellspacing="0" cellpadding="0" class="Tabela1"><colgroup><col width="248"/><col width="248"/><col width="248"/></colgroup><tr class="TableLine93918831714400"><td style="text-align:left;width:5.666cm; " class="Tabela1_A1"><p class="P13">FIG13</p></td><td style="text-align:left;width:5.667cm; " class="Tabela1_A1"><p class="P13">FIG14</p></td><td style="text-align:left;width:5.667cm; " class="Tabela1_A1"><p class="P13">FIG15</p></td></tr></table><p class="P3"> </p><p class="P10"><a id="_Ref6095805311111"/><span class="T20">Figur</span><span class="T21">e</span><span class="T20"> </span><span class="T20"><a id="refFigure1"/>2</span><span class="T20">. </span><span class="T24">Configuration parameters </span><span class="T25">in Matlab Simulink</span><span class="T26">®</span><span class="T23">.</span><span class="T8"> </span></p><p class="P3"> </p><p class="P6"><span class="T9">Attention must be paid to the “Communication Port” parameter, which, depending on the operating system, will indicate the port to be used for communication.</span><span class="T14"> "COM</span><span class="T15">x</span><span class="T14">" for Windows or "/dev/ttyUSB</span><span class="T15">x</span><span class="T14">" for Linux. The letter </span><span class="T15">x</span><span class="T14"> represents the port number provided by the operating system</span><span class="T16">. Once the microcontroller is connected, these values can be selected directly in the “Communication Port” parameter.</span><span class="T17"> Other parameters to be observed are the “Baud Rate”, “Header” and “Terminator”, configured with their default options according to Fig</span><span class="T18">ure</span><span class="T19"> </span><span class="T19"><a href="#refFigure1">2</a></span><span class="T19">.</span></p><p class="P2"><span class="T10">If the communication between the microcontroller and Matlab Simulink</span><span class="T3">®</span><span class="T10"> is working correctly, the graph in Fig</span><span class="T6">ure</span><span class="T10"> </span><span class="T10"><a href="#refFigure2">3</a></span><span class="T10"> </span><span class="T11">will be presented</span><span class="T10">. That is, considering </span><span class="T12">the </span><span class="T10">Fi</span><span class="T12">gure</span><span class="T10"> </span><span class="T10"><a href="#refFigure0">1</a></span><span class="T10">, the continuous-time input signal generated by Matlab Simulink</span><span class="T3">® </span><span class="T12">(</span><span class="T10">Fig</span><span class="T12">ure </span><span class="T10"><a href="#refFigure2">3</a></span><span class="T12">A)</span><span class="T10">, is converted to a digital signal and sent to the microcontroller. The microcontroller reads this signal and returns it to the Matlab Simulink</span><span class="T3">®</span><span class="T10">, which displays it on the oscilloscope </span><span class="T12">(</span><span class="T10">Fig</span><span class="T12">ure </span><span class="T10"><a href="#refFigure2">3</a></span><span class="T12">B)</span><span class="T10">. Note that the returned signal (detailed in the enlarged image) is a quantized signal.</span></p><p class="P4">More information about the settings of the communication blocks and their parameters can be found in Mariga (2019).</p><p class="P4"> </p><table border="0" cellspacing="0" cellpadding="0" class="Tabela34"><colgroup><col width="288"/><col width="301"/></colgroup><tr class="TableLine93918831765104"><td style="text-align:left;width:6.599cm; " class="Tabela34_A1"><p class="P12">FIG7</p></td><td style="text-align:left;width:6.892cm; " class="Tabela34_A1"><p class="P12">FIG8</p></td></tr></table><p class="P3"> </p><p class="P10"><a id="_Ref60958053111112"/><span class="T20">Figur</span><span class="T21">e</span><span class="T20"> </span><span class="T20"><a id="refFigure2"/>3</span><span class="T20">. Results presented in the osciloscope:</span><span class="T27"> </span><span class="T28">(a) input signal, (b) signal received from the microcontroller </span></p><p class="P1"> </p></body></html>
